<h2>Lista de debates</h2>
<p>Lista de debates criados pelo seu usuário</p>            
<table id="table-debates" class="table">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Data</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
    var sucessoDebates = function(debates){
        debates.forEach(function(item) {
            var id = item._id;
            var data = new Date(item.created);
            var dataFormatada = data.getDate().toString().padStart(2,'0') + "/" + (data.getMonth() + 1).toString().padStart(2,'0') + "/" + data.getFullYear() + " " +
            data.getHours().toString().padStart(2,'0') + ":" + data.getMinutes().toString().padStart(2,'0');

            var itemDebate = "<tr><td>" + item.name + "</td><td>" + dataFormatada + "</td>" + 
                // "<td><button onclick='editarDebate(\"" + id + "\")' class='btn btn-deafult btn-list'>Editar</button>" +
                // "<button onclick='processarNiveisDebateInicial(\"" + id + "\")' class='btn btn-primary btn-list'>Definir questionadores</button>" + 
                "<td><div style='display:inline; margin-right:5px' class='dropdown'><button class='btn btn-secondary dropdown-toggle' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>Definir grupos</button>" +
                "<ul class='dropdown-menu' aria-labelledby='dropdownMenuButton'>" +
                "<li><a onclick='processarNiveisDebateInicial(\"" + id + "\")' href='#'>Com base no nível</a></li>" +
                "<li><a onclick='processarClustersDebateInicial(\"" + id + "\")' href='#'>Com base na semelhança</a></li></ul></div>" +
                "<button onclick='processarDebateFinal(\"" + id + "\")' class='btn btn-primary'>Calcular resultado</button>" + 
                "</td></tr>";

            $("#table-debates>tbody").append(itemDebate);  
        });

    };

    buscarDebates(sucessoDebates);
</script>